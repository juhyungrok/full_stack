"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[235],{235:(n,e,r)=>{r.r(e),r.d(e,{default:()=>jn});var t,o,i,s,d,c,a=r(5043),l=r(7528),p=r(197),x=r(5475),h=r(579);const u=p.Ay.div(t||(t=(0,l.A)(["\n  width: 100%;\n"]))),f=p.Ay.table(o||(o=(0,l.A)(["\n  width: 100%;\n  border-collapse: collapse;\n  font-size: 18px;\n"]))),g=p.Ay.th(i||(i=(0,l.A)(["\n  background-color: #f8f9fa;\n  padding: 20px;\n  text-align: left;\n  cursor: pointer; /* Add cursor pointer to indicate sortable columns */\n"]))),b=p.Ay.td(s||(s=(0,l.A)(["\n  padding: 20px;\n  border-bottom: 1px solid #dee2e6;\n  cursor: pointer;\n"]))),m=p.Ay.button(d||(d=(0,l.A)(["\n  padding: 10px 20px;\n  font-size: 16px;\n  background-color: ",";\n  color: #fff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-right: 10px;\n"])),(n=>n.danger?"#dc3545":"#007bff")),A=(0,p.Ay)(x.N_)(c||(c=(0,l.A)(["\n  color: black;\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),j=n=>{let{orders:e,currentPage:r,itemsPerPage:t,handleEditOrder:o,handleDeleteOrder:i,handleSort:s,sortOrder:d}=n;const c=e.slice((r-1)*t,r*t);return(0,h.jsx)(u,{children:(0,h.jsxs)(f,{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsxs)(g,{onClick:s,children:["Order Date ","asc"===d?"\u25b2":"\u25bc"]}),(0,h.jsx)(g,{children:"Order ID"}),(0,h.jsx)(g,{children:"Order Number"}),(0,h.jsx)(g,{})]})}),(0,h.jsx)("tbody",{children:c.map((n=>(0,h.jsxs)("tr",{children:[(0,h.jsxs)(A,{to:"/admin/".concat(n.orderId),style:{display:"contents"},children:[(0,h.jsx)(b,{children:n.orderDatetime}),(0,h.jsx)(b,{children:n.orderId}),(0,h.jsx)(b,{children:n.orderNumber})]}),(0,h.jsx)(b,{children:(0,h.jsx)(m,{danger:!0,onClick:()=>i(n.orderId),children:"\uc0ad\uc81c"})})]},n.orderId)))})]})})};var y,k,v,w,D=r(1312),S=r(5081),C=r.n(S),O=r(3595);const z=(0,p.i7)(y||(y=(0,l.A)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),M=(0,p.i7)(k||(k=(0,l.A)(["\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n"]))),E=p.Ay.div(v||(v=(0,l.A)(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n"]))),I=p.Ay.div(w||(w=(0,l.A)(["\n  background-color: #4caf50;\n  color: white;\n  padding: 15px;\n  margin-bottom: 10px;\n  border-radius: 5px;\n  animation: "," 1s forwards;\n"])),(n=>n.fadeOut?M:z)),P=n=>{let{message:e,onDismiss:r}=n;return(0,a.useEffect)((()=>{const n=setTimeout(r,5e3);return()=>clearTimeout(n)}),[r]),(0,h.jsx)(E,{children:(0,h.jsx)(I,{fadeOut:!1,children:e})})};let F=null;const N=()=>{const[n,e]=(0,a.useState)([]);(0,a.useEffect)((()=>{F=r}),[n]);const r=n=>{const r=(new Date).getTime();e((e=>[...e,{id:r,message:n}])),setTimeout((()=>{window.location.reload()}),2e3)};return(0,h.jsx)("div",{children:n.map((n=>(0,h.jsx)(P,{message:n.message,onDismiss:()=>{return r=n.id,void e((n=>n.filter((n=>n.id!==r))));var r}},n.id)))})};let T=null;const Y=()=>{const n=new(C())("".concat("https://backend-kiosk.site","/ws"));T=O.q.over(n),T.connect({},(()=>{console.log("Connected to WebSocket"),T.subscribe("/topic/notifications",(n=>{(n=>{F&&F(n)})(JSON.parse(n.body).message)}))}),(n=>{console.error("WebSocket connection error:",n)}))};var W,q,J,_,B,G,H,K,L,Q,R,U,V,X,Z,$,nn;const en=p.Ay.div(W||(W=(0,l.A)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 40px;\n"]))),rn=p.Ay.h1(q||(q=(0,l.A)(["\n  font-size: 36px;\n  margin-bottom: 40px;\n"]))),tn=p.Ay.div(J||(J=(0,l.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),on=p.Ay.div(_||(_=(0,l.A)(["\n  display: flex;\n  align-items: center;\n"]))),sn=p.Ay.div(B||(B=(0,l.A)(["\n  position: relative;\n  display: inline-block;\n  margin-right: 10px;\n"]))),dn=p.Ay.button(G||(G=(0,l.A)(["\n  padding: 5px 10px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  background-color: white;\n  cursor: pointer;\n"]))),cn=p.Ay.div(H||(H=(0,l.A)(["\n  display: ",";\n  position: absolute;\n  background-color: white;\n  min-width: 100px;\n  max-height: 200px;\n  overflow-y: auto;\n  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n"])),(n=>{let{isOpen:e}=n;return e?"block":"none"})),an=p.Ay.div(K||(K=(0,l.A)(["\n  padding: 5px 10px;\n  cursor: pointer;\n  &:hover {\n    background-color: #f1f1f1;\n  }\n"]))),ln=p.Ay.button(L||(L=(0,l.A)(["\n  padding: 5px 10px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  background-color: white;\n  cursor: pointer;\n"]))),pn=p.Ay.button(Q||(Q=(0,l.A)(["\n  padding: 10px 20px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  background-color: #007bff;\n  color: white;\n  cursor: pointer;\n"]))),xn=p.Ay.div(R||(R=(0,l.A)(["\n  display: flex;\n  align-items: center;\n"]))),hn=p.Ay.label(U||(U=(0,l.A)(["\n  margin-right: 10px;\n  font-size: 16px;\n"]))),un=p.Ay.select(V||(V=(0,l.A)(["\n  padding: 5px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n"]))),fn=p.Ay.div(X||(X=(0,l.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20px;\n"]))),gn=p.Ay.button(Z||(Z=(0,l.A)(["\n  padding: 8px 16px;\n  font-size: 14px;\n  background-color: ",";\n  color: ",";\n  border: 1px solid #007bff;\n  border-radius: 4px;\n  cursor: pointer;\n  margin: 0 5px;\n"])),(n=>"true"===n.active?"#007bff":"#fff"),(n=>"true"===n.active?"#fff":"#007bff")),bn=p.Ay.button($||($=(0,l.A)(["\n  padding: 8px 16px;\n  font-size: 14px;\n  background-color: #fff;\n  color: #007bff;\n  border: 1px solid #007bff;\n  border-radius: 4px;\n  cursor: pointer;\n  margin: 0 5px;\n"]))),mn=p.Ay.p(nn||(nn=(0,l.A)(["\n  text-align: center;\n  font-size: 18px;\n  margin-top: 20px;\n"]))),An=()=>{const[n,e]=(0,a.useState)(1),[r,t]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[s,d]=(0,a.useState)(""),[c,l]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1),[u,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(5),[m,A]=(0,a.useState)([]),[y,k]=(0,a.useState)([]),[v,w]=(0,a.useState)("asc");(0,a.useEffect)((()=>{const n=new Date;return t(n.getFullYear()),i(n.getMonth()+1),d(n.getDate()),S(n.getFullYear(),n.getMonth()+1,n.getDate()),Y(),()=>{null!==T&&T.disconnect()}}),[]);const S=async(n,e,r)=>{try{const t=await(0,D.gF)(),o=t.filter((t=>{const o=new Date(t.orderDatetime);return o.getFullYear()===n&&o.getMonth()+1===e&&o.getDate()===r}));A(t),k(o)}catch(t){console.error("Failed to fetch orders:",t)}},C=n=>{e(n)},O=new Date(r,o,0).getDate();return(0,h.jsxs)(en,{children:[(0,h.jsx)(rn,{children:"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0"}),(0,h.jsx)(N,{}),(0,h.jsxs)(tn,{children:[(0,h.jsxs)(on,{children:[(0,h.jsxs)(sn,{children:[(0,h.jsx)(dn,{onClick:()=>{l(!c),x(!1),f(!1)},children:r||"Year"}),(0,h.jsx)(cn,{isOpen:c,children:Array.from({length:30},((n,e)=>(0,h.jsx)(an,{onClick:()=>(t(2021+e),void l(!1)),children:2021+e},e)))})]}),(0,h.jsxs)(sn,{children:[(0,h.jsx)(dn,{onClick:()=>{x(!p),l(!1),f(!1)},children:o||"Month"}),(0,h.jsx)(cn,{isOpen:p,children:Array.from({length:12},((n,e)=>(0,h.jsx)(an,{onClick:()=>(i(e+1),x(!1),void d("")),children:e+1},e)))})]}),(0,h.jsxs)(sn,{children:[(0,h.jsx)(dn,{onClick:()=>{f(!u),l(!1),x(!1)},children:s||"Day"}),(0,h.jsx)(cn,{isOpen:u,children:Array.from({length:O},((n,e)=>(0,h.jsx)(an,{onClick:()=>(d(e+1),void f(!1)),children:e+1},e)))})]}),(0,h.jsx)(ln,{onClick:()=>{S(r,o,s)},children:"Search"})]}),(0,h.jsxs)(xn,{children:[(0,h.jsx)(hn,{children:"\ubcf4\uc5ec\uc9c8 \ud56d\ubaa9 \uc218:"}),(0,h.jsxs)(un,{value:g,onChange:n=>{b(parseInt(n.target.value)),e(1)},children:[(0,h.jsx)("option",{value:"5",children:"5"}),(0,h.jsx)("option",{value:"10",children:"10"}),(0,h.jsx)("option",{value:"20",children:"20"})]})]}),(0,h.jsx)(pn,{onClick:()=>{console.log("Sales Comparison clicked")},children:"\ub9e4\ucd9c \ube44\uad50(error)"})]}),(0,h.jsx)(j,{orders:y,currentPage:n,itemsPerPage:g,handleEditOrder:n=>console.log("Edit order ".concat(n)),handleDeleteOrder:n=>console.log("Delete order ".concat(n)),handleSort:()=>{const n=[...y].sort(((n,e)=>"asc"===v?new Date(n.orderDatetime)-new Date(e.orderDatetime):new Date(e.orderDatetime)-new Date(n.orderDatetime)));k(n),w("asc"===v?"desc":"asc")},sortOrder:v}),(0,h.jsx)(fn,{children:(()=>{const e=[],r=Math.ceil(y.length/g);if(r<=5)for(let n=1;n<=r;n++)e.push(n);else{const t=Math.max(1,n-Math.floor(2.5)),o=Math.min(r,t+5-1);t>1&&(e.push(1),t>2&&e.push(-1));for(let n=t;n<=o;n++)e.push(n);o<r&&(o<r-1&&e.push(-2),e.push(r))}return e.map((e=>-1===e?(0,h.jsx)(bn,{onClick:()=>C(n-1),children:"<"},"prev"):-2===e?(0,h.jsx)(bn,{onClick:()=>C(n+1),children:">"},"next"):(0,h.jsx)(gn,{active:(e===n).toString(),onClick:()=>C(e),children:e},e)))})()}),0===y.length&&(0,h.jsx)(mn,{children:"\uc8fc\ubb38 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]})},jn=()=>(0,h.jsx)(An,{})}}]);
//# sourceMappingURL=235.9b307db9.chunk.js.map